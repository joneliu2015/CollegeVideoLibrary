<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<meta name="renderer" content="webkit">
		<!--<meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">-->
		<title>前途院校库-全球院校采访精彩回顾</title>
		<!-- Bootstrap -->
		<link href="lib/bootstrap-3.3.7-dist/css/bootstrap.css" rel="stylesheet">
		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
		<!--[if lt IE 9]>
    		<script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    		<script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    	<![endif]-->
		<link rel="stylesheet" href="css/index.css">
		<script src="lib/template-web.js"></script>
		<script src="js/jquery1.11.3.js"></script>
		<script src="lib/bootstrap-3.3.7-dist/js/bootstrap.js"></script>
		<script src="lib/layer/layer.js"></script>
		<!--<script type="text/javascript" src="artTemp.php?"></script>-->
		<!--<script src="lib/layer/mobile/layer.js"></script>-->

	</head>

	<body>
		<header class="container-fluid ">

			<img class="top_pc  img-responsive center-block hidden-xs row" src="./img/top.jpg" alt="">
			<img class="top_mobi  img-responsive center-block visible-xs-block row" src="./img/top_mobi.jpg" alt="">
		</header>

		<div class="container">
			<ul class="row country">
				<li class="col-xs-4 col-md-3 active selected" id="Americia">美国</li>
				<li class="col-xs-4 col-md-3" id="England">英国</li>
				<li class="col-xs-4 col-md-3" id="Canada">加拿大</li>
				<li class="col-xs-4 col-md-3" id="Austrilia">澳大利亚</li>
				<li class="col-xs-4 col-md-3" id="NewZealand">新西兰</li>
				<li class="col-xs-4 col-md-3" id="Europe">欧洲</li>
				<li class="col-xs-4 col-md-3" id="Asia">亚洲</li>
			</ul>
		</div>
		<div class="line"></div>
		<div class="container-fluid content ">
			<div class="container neirong">

				<div class="left fl">
					<div class="titless ">
						热门视频
					</div>
					<div class="medialist " id="medialist">

						<!--<div class="yitiao clearfix">
								<div class="reload pull-left">
									<img src="img/reload1.jpg" alt="" />
								</div>
								<div class="info pull-left">
									<div class='top'>
										<span class="classify">家庭教育</span>
										<span class="title">父母该如何做好家庭教育</span>
										<span class="pubdate pull-right"></span>
										<span class="glyphicon glyphicon-time pull-right"></span>
										
									</div>
									<p class='intro text-overflow'>
											好的教育，应该是父母通过孩子这把镜子，不断发现自我、修正自我、挖掘自我，并用新我来为孩子做示范和表率。我们是在教育孩子的过程中，遇见了更好的自己
									</p>
									<div class="bot">
										<span class="jia">嘉</span>
										<span class="name">刘亚春</span>
										<span class="zhi">职</span>
										<span class="position">新东方前途出国留学家庭预备营负责人</span>
										<span class="glyphicon glyphicon-eye-open"></span>
										<span class="click-rite">888</span>
									</div>
								</div>
							</div>
						-->

					</div>
				</div>

				<!--模板引擎-->

				<script id="template" type="text/html">
					<%for(var i =0; i<items.length;i++){%>
					<div class="item clearfix">
						<div class="reload pull-left" >
							<div>
							<img class="reloadimg" src="<%=items[i].imgsrc%>" alt="" />
						   </div>
						</div>
						<div class="info pull-left">
							<div class='top'>
								<span class="classify"><%=items[i].classify%></span>
								<span class="title"><%=items[i].title%></span>
								<span class="pubdate pull-right"><%=items[i].pubdate%></span>
								<span class="glyphicon glyphicon-time pull-right"></span>
							</div>
							<p class='intro text-overflow'>
								<%=items[i].intro%>
							</p>
							<div class="bot">
								<span class="jia">嘉</span>
								<span class="name"><%=items[i].name%></span>
								<span class="zhi">职</span>
								<span class="position"><%=items[i].position%></span>
								<span class="glyphicon glyphicon-eye-open"></span>
								<span class="click-rite">888</span>
							</div>
						</div>
					</div>
					<%}%>

				</script>

				<!--模板引擎-->

				<script type="text/javascript">
					window.onload = function() {
						var data;
						$.ajax({
							dataType:'json',
							url:'data.json',
							data:data,
							type:'get',
							success: function(data, key) {
								console.log(data);
								//转化为js对象
								var jsArr = data;

								//包装为js对象
								console.log(jsArr)

								//遍历JSON对象，将JSON对象转化为数组
								for(var key in jsArr) {
									console.log(jsArr[key])
								};

								//点击国家按钮显示指定内容
								$("body").on("click", ".country>li", function(e) {

									$(this).addClass('active').siblings().removeClass('active');

									// alert("被电击了")

									//获取当前tab中鼠标停在的table栏的索引  
									var index = $(this).index();
									console.log(index);
									//根据这个索引切换，下面的展示  
									$("li").eq(index).addClass("selected").siblings().removeClass("selected");

									//获取当前点击项目的ID
									var indexId = $(this).attr('id');
									console.log(indexId);

									//新建数组，将当前点击项的id赋值给当前要显示的数组作为KEY值，就获取的当前显示项的数据
									console.log(jsArr[this.id])

									var jsArri = jsArr[this.id];
									//新建对象
									var obj = {
										items: jsArri
									};
									console.log(obj)

									//调用模板引擎方法，填充数据
									var result = template('template', obj);
									$('.medialist').html(result);
								
									//弹窗

									console.log(jsArri);



									//点击预览图显示弹窗
								
								
										$(".reloadimg,.title").on("click",function() {
                                        
										//取得当前点击的预览图的下标
									
										var indexB = $(this).parent().parent().parent().index();
								
//										alert(indexB);
										
										//将预览图的下标作为当前显示的国家数据的中的urlpc值
										
                                        var urlpc=jsArri[indexB].urlpc;
                                        
                                        console.log(urlpc);
										layer.open({
											type: 2,
											title: false,
											area: ['60%', '60%'],
											shade: 0.8,
											closeBtn: 0,
											shadeClose: true,
											content: urlpc
										});
										layer.msg('点击任意处关闭'); 
											
									});
											
						
										
										
										
	

								});

								//加载第一项美国
								$("#Americia").trigger("click");

							}
						})

					}
				</script>

				<div class="right fr advert">
					<div class="zixun">
						<span class="title">热门资讯</span>
						<span class="title fr">
						<a href="#">更多</a>
					</span>
						<div class="link">
							<img src="./img/America.jpg" alt="">
							<img src="./img/xinnan.jpg" alt="">
						</div>
					</div>
					<div class="chanpin">
						<span class="title">热门产品</span>
						<span class="title fr">
						<a href="#">更多</a>
					</span>
						<div class="link">
							<img src="./img/yingling.jpg" alt="">
							<img src="./img/beijing.jpg" alt="">
						</div>
					</div>

				</div>
			</div>
		</div>

		<script src="js/index.js"></script>
	</body>

</html>